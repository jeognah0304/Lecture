

과적합=>biased variance trade off
그림을 보면 됨.

tradiction error가 가장 적은거 채택
그래서 optimal한 지점을 찾는게 목적.



간단하고 어렵지 않고 예측력높은모델(!)
좋은모델에 대한 정의는 사람마다 다르긴 한데, 다 포함되는 정의가 3주차 프린트물이니까 참고



타당성: 현실과 얼마나 가깝게 일치하는가! 를 보는 것임.


모형이 robust해야함!


그렇기 때문에,
모델을 돌릴때는 주의해야할 점이!
seed값을 지정해서 돌려야함.

=> 이상점이 들어왔을때 모형의 변화가 얼마나 큰지 작은지도 표현이 되어있는 부분.

회귀분석은 로버스트하지 않다! 는거 주의




모형을 사용할때, 대부분 예측을 하기 위해서 사용하는데 당연히 예측력이 좋아야함.
통계학에서 모형이 좋은거
예측력, ㅎㅐ석력,효율성(단순성과 일치),안정성(로버스트)




decision tree ->좋은모형이라고 하기가 안좋을수잇다(로버스트)






예측력이 좋아야한다는건, 모형의 평가에서 가장 중요한 사항!






** 모형선택의 기준
오분류표를 그릴 수 있는데,! 반드시 기억해서 이걸 가지고 모형선택에서 평가기준으로 사용함!!



ROC커브에서 x축y축을 잘 보고 봐야함
항상 위로볼록이 더 좋다고 할 수 없거든!!

보통은 프린트모양으로 보여짐;;



cut off 구간을 다 짤라서 그린게 ROC curve임.

직접 코드 한번 짜보는 것도 좋아보임**
꼭 패키지 안써도 구할 수 있음



AUC도 높을수록 좋은모형임.



Boosting



Lift chart
모형평가 기준중 하나.

첫시간 복지사각지대 설명할때, 350만명의 정제된 데이터에서
10만명만 뽑는다고 설명* ㄱ 기준 역시 확률값이 높은 사람만 뽑았을 것임
=> 그럼 그 10만명 뽑았다 햇을때, 그 십만명 안에 10등분을 했다고 하면
-> 얘에 대한 각각의 등급별로 실제 어느정도의 퍼센트가 들ㄹ어있는지를 살펴보고 싶을 수 있다.


이익도표의 경우는 분류기준점이 없음. 내가 정하지 않아도 됨.



cut off 포인트를 정할 필요가 없음(복지사각지대에선 분류목적이 아님, 1만 뽑으면 됨.)

10등분은 y-hat의 값으로, 높은값으로 ordering해서 10등분을 함->그 10등분에서
만명씩 들어잇는 데이터셋에서 실제1이 몇명이 나왓는지 카운팅 함!
그게 이익도표!!



Lift chart에선 컷오프포인트 필요없어.
분류표에서는 컷오프포인트랑, 확률값 다 구해야함!





+ error rate도 같이 보는 경우가 많음.


모형을 평가하는데, 그냥 2X2 오분류표를 보여주면 사실은의미가 없음.
그래서 어떤 모형이 더좋다고 말할때, Lift chart로 계산해서 보여줌.


그 이전에 암 데이터가지고 분석했을땐, 어째꺼나 데이터가 셋팅이 잘 셋팅되서
0과1의 비율이 50대 50이다 이럴땐, 500명의 데이터를 가지고 해씅ㄹ 때 여기서 200명 250명.. 나머진 다 정상인 경우엔
cut-off point 0.5근방에서 최적이엇고 그때 Lift chart로 안쓰고 오분류표를 사용해야함!!



Base Line Lift = 1숫자나온거 카운팅 /전체1숫자
 =>%로 표현.






regression을쓰는데 데이터수보다 변수수가 더 큰 경우가 있을 수 있잖아요
그땐 회귀분석 말고 다른 모형을 써서 분석을 해보기!

분석전에 다만 가장 중요한거 correlation을 꼭 봐야하거든
그정제작업부터 해야함... correlation이중요!







해석할 수 잇는 딥러닝.



# 실습
slotNames 함수 ->여러가지 cutoff 포인트 다 나와잇음
골뱅이부분, validation set으로 테스트한다고 생각하면 될듯.
vaidation dimension도 보고


performance 부분은 ROC 볼려고 쓴 함수
abline(0,1) 그려주면 어느정도로 표현되는지 보여줌.


performance(pred_lm, "auc")@y.values[[1]] # AUC값 출력이 된 것임.






# 실제 모형에 대한 평가를 할려면
랜덤한 이러한 작업을 50,100번을 해서 결과를 비교하던지,아니면
이 전체 데이터 셋이 100fold 라하면 9개는 train 1개는 test로 써서
10개의 테스트 셋을 해서 결과를 내던지

둘중의 하나로 해야함!
(이것은 첫 단계일 뿐, 100번을 하셔서 평균치를 보셔야 함)
-> 평균치를 한다는건 평균적인 수준을 본다는거고 거기서 분산 나올수 있다.
분산이 의미하는 바는 모형이 얼마나 많은 변동이있는지를 표시해줘야함.

모형평가시 이 오분류 률로 표현한다 하면, 정규성, 민감도, 센서티비티 등의
평균치를 쓰고 그 표준편차를 다 넣고 리포트를 해야하는데
-> 안그러면 통계 잘 아는 사람이 몇번 돌렸다? 라고 할때 한번돌리면
이 모형이 로버스트한지 안한지 바로 받아볼 수 잇고

편차도 같이 보여줘야 그 부분에 대한 대답을 잘 할수 있다.
그리고 꼭 오분류률에 대한 부분 뿐만 아니라 ROC나 AUC값도 같이 보여줘야함.







**
논문 보고
SOXC 

데이터분석을 하는데, 이 시점을 어느시점을 잡을지에 대한 search를 하고 봐야함.
그냥 최근시점까지 2009년도자료까지 각각의 나라별로 수집해서 봄.




노인복지정책
지출의 시점과 빈곤율의 시점을 다르게 놔서 봄
관계성을 보기 위해서!


통계학에서 주의해야할 점이, 인과성을 함부로 이야기할 수 없음.
근데 노인복지지출 증가하면, 노인빈곤율이 완화하지않을까하고 보ㅏ야해서
인과성을 봐야했기때문에 좀 주의해서 봤다



2009년도자료 ->2013년도 를 결과로 생각함.


주요국가들의 soxc 비중이 어떻게 변햇는지 보여주고
2006-2008년 평균값을 사용하였고, 

NA로 많고, 세부결측치가많아서
세분류까지 분석하고 싶었는데 너무많아서 분석을 못함.



표에 대한 해석부분도 추가로 더 써주는게 중요함.


페이퍼를 볼때 정말 이게 인과관계로 볼수 잇는건지, 아님 인과관계의 모형을 쓴건지
아니면 상관관계를 인과관계로 표현한건지 구분해서 봐야함*




회귀분석을 그린다! 라고 하면, 이런 표현들은 꼭 해줘야함
(R^2값을쓰거나 설명력이 낮지만, 왜 내가 이걸 봤는지에 대한 표현을 해주는 것이 중요하다)



Outlier의 나라가 뭔지 한번 보고싶기도함.
숫자들, 음수값 나와있는데-> 표준화했다는 의미임.

표준화해서 회귀분석 그렸다는 의미임.



군집분석=>우리나라랑 어느나라가 비슷하게 묶이는지 보고싶어서 묶어봄!




현금지원에서도 세개의 분류체게
서비스에도 세개의 ..

총 10개의분석으로 군집분석하고 각각의 특징들을 뽑아내고싶었으나,
결측치가 너무 많아서 ->세분류가 사용 불가ㅡㄴㅇ.
(데이터의 한계때문에 3변수밖에 못썼고. 그 변수로 군집분석,주성분분석으로 할려한건 전혀아님)


내가 내 마음으로 군집을 설정할 수 있음
->위에서 짜르면, 그게 하나의 군집임.




군집분석+주성분분석 결과랑 같이 보는게 좋음(시간이있다면)


->둘다 비슷하게 나오는게 직관적으로 맞거든요,

그래서 군집분석 할거면, 주성분분석도 꼭 하셔야 합니다.




y2와 y1이 무상관(orthogonal)이면서 x들의 선형결합 가운데 최대분산(핸드폰그림참고, p8)


보통 람다값이 1 넘는걸 선택하는데
너무많으면 몇개선택할지 잘 생각해야함(스크리산점도)





* 인자분석의 경우
p3

코릴레이션이높구나 ->인자분석해봤더니

일반지능과같이, 해놧다가
=>인자회전을 해보면 각 인자1 인자2가 수리능력, 어학능력으로 이해가 됨.



변수의 특성들도 같이 뽑고 싶다., 그리고 회전도 같이시킨다!
그게 주성분분석보다 더 좋다(그래야 요인들에 대해 잘 살펴볼 수 있음)

그게 핸드폰그림이나 8p처럼 인자들을 orthogonal시켜서 가져가는거랑 유사한 개념이라고 봐도 됨





 사각회전(oblique rotation) **
인자들의 상관석 해석에 어려움이 잇을 수 있다.




군집분석*
사전정보가 없어

근데 일단 measure별로 뭔가 숫자가 주어졌다?! 라고 해도

k-means는 함부로 쓰면 안된다는거(비계층적)

초기값이 어떻게 잡히냐에따라 군집이 바뀔수 있다는 것 검토하고 군집분석 모형을
공부를 하는게 좋겠다*


->묶을때는 거리에 따라 다양하게 묶일 수 있는데
이때 거리의 정의에 따라 달라지니까 거리를 잘 정의해야한다!







지금 여기 y값 없어도 있어도 사용 가능하다는게 좋다!
->그래서 Unsupervised learning에 속한다!

군집분석을 할때, 군집간의 거리를 어떻게 정의할지, 방법을 잘 생각해봐야한다!
군집 나누는 방법은 크게 2가지(계층,비계층)


최장연결법 직접 연결해보장.

